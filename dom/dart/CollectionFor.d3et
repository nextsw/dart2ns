server class CollectionFor extends ArrayItem {
    Statement stmt;
    ArrayItem value;
    CollectionFor({this.stmt, this.value});


    void resolve(ResolveContext context) {
        context.scope = Scope(parent: context.scope);
        stmt.resolve(context);
        value.resolve(context);
        context.scope = context.scope.parent;
    }
    void collectUsedTypes(List<DataType> types) {
        stmt.collectUsedTypes(types);
        value.collectUsedTypes(types);
    }
    void simplify(Simplifier s){
        stmt.simplify(s);
    }
    void visit(ExpressionVisitor visitor) {
        visitor.visit(stmt);
        visitor.visit(value);
    }
}